# Случайное движение тараканов

## Изменения

Система кражи коржей **полностью отключена**. Тараканы теперь просто бегают по столу случайным образом.

---

## Что изменилось

### 1. **EnemyMove.cs** - полностью переработан
**Старое поведение:**
- Тараканы искали тарелку с тортом
- Шли к ней и останавливались
- Выстраивались в очередь
- Взаимодействовали с CakeManager

**Новое поведение:**
- Тараканы бегают случайным образом
- Меняют направление каждые N секунд
- Отражаются от границ области
- Не взаимодействуют с тортом

### 2. **CakeManager.cs** - отключен
- Метод `Start()` закомментирован
- `RegisterEnemyAtCake()` - пустой
- `UnregisterEnemy()` - пустой
- Сбор коржей не происходит
- Утаскивание отключено

---

## Новые параметры EnemyMove

### В Inspector доступны:

**Основные:**
- **Speed** (`_speed`) - скорость движения (по умолчанию 2)

**Настройки движения:**
- **Change Direction Time** - время до смены направления (по умолчанию 2 сек)
- **Movement Area Min** - минимальные границы области (X, Y)
- **Movement Area Max** - максимальные границы области (X, Y)

---

## Как это работает

### 1. При спавне:
- Таракан выбирает случайное направление (влево или вправо)
- **Движение только по горизонтали** - прыжки отключены
- Начинает двигаться в этом направлении

### 2. Во время движения:
- Каждые `changeDirectionTime` секунд выбирается новое направление
- **Только горизонтальное движение** (Y = 0)
- При достижении границ области направление отражается
- Спрайт поворачивается в сторону движения

### 3. Физика (без прыжков):
- **Freeze Rotation** - таракан не переворачивается
- **Gravity Scale** = 3 - быстро падает на поверхность
- **Drag** = 0.5 - небольшое сопротивление
- **Направление Y = 0** - движение только влево/вправо

### 4. Границы области:
- По умолчанию: X от -10 до 10, Y от -5 до 5
- Можно настроить в Inspector для каждого таракана
- При выходе за границу - отражение (как мячик от стенки)

---

## Настройка в Unity

### 1. Настройка области движения

Выберите таракана в Hierarchy и в Inspector настройте:

```
Movement Area Min: (-10, -5)  // Левый нижний угол
Movement Area Max: (10, 5)    // Правый верхний угол
```

Эти значения определяют прямоугольную область, в которой будут бегать тараканы.

### 2. Настройка поведения

```
Speed: 2                      // Скорость движения
Change Direction Time: 2      // Смена направления каждые 2 секунды
```

**Примеры:**
- Медленные тараканы: Speed = 1, Change Direction Time = 3
- Быстрые хаотичные: Speed = 4, Change Direction Time = 1
- Плавное движение: Speed = 1.5, Change Direction Time = 5

### 3. CakeManager (опционально)

CakeManager можно:
- **Оставить** - он просто ничего не делает
- **Удалить** - если не планируете возвращать кражу коржей

---

## Визуализация границ (опционально)

Чтобы видеть область движения в редакторе, можно добавить Gizmos:

```csharp
void OnDrawGizmosSelected()
{
    Gizmos.color = Color.yellow;
    Vector3 center = new Vector3(
        (movementAreaMin.x + movementAreaMax.x) / 2f,
        (movementAreaMin.y + movementAreaMax.y) / 2f,
        0f
    );
    Vector3 size = new Vector3(
        movementAreaMax.x - movementAreaMin.x,
        movementAreaMax.y - movementAreaMin.y,
        0f
    );
    Gizmos.DrawWireCube(center, size);
}
```

Добавьте этот код в конец `EnemyMove.cs`.

---

## Возврат к системе кражи

Если нужно вернуть кражу коржей:

1. В `CakeManager.cs`:
   - Раскомментируйте код в `Start()`
   - Раскомментируйте логику в `RegisterEnemyAtCake()` и `UnregisterEnemy()`

2. В `EnemyMove.cs`:
   - Замените файл на версию из бэкапа
   - Или используйте Git: `git checkout EnemyMove.cs`

---

## Примеры настроек

### Медленные ленивые тараканы:
```
Speed: 0.8
Change Direction Time: 4
Movement Area: большая область
```

### Быстрые паникующие тараканы:
```
Speed: 3.5
Change Direction Time: 0.5
Movement Area: маленькая область
```

### Реалистичные тараканы:
```
Speed: 1.5
Change Direction Time: 2
Movement Area: средняя область
```

---

## Готово!

Тараканы теперь просто бегают по столу случайным образом, не взаимодействуя с тортом и коржами.
