# üéÆ –ö–Ω–æ–ø–∫–∞ SavesButton - "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ö–Ω–æ–ø–∫–∞ **SavesButton** –≤ **MenuPanel** —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å":
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–ø–æ –¥–∞—Ç–µ)
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É —Å —ç—Ç–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä—É

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Unity

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
MenuPanel (GameObject)
‚îú‚îÄ‚îÄ PlayButton ‚Üí MainMenu.OnPlayButton()
‚îú‚îÄ‚îÄ SavesButton ‚Üí MainMenu.OnSavesButton() ‚Üê "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
‚îú‚îÄ‚îÄ SettingsButton ‚Üí MainMenu.OnSettingsButton()
‚îî‚îÄ‚îÄ ExitButton ‚Üí MainMenu.OnExitButton()
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SavesButton:

1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É **SavesButton** –≤ MenuPanel
2. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ **Button**:
   - OnClick() ‚Üí –¥–æ–±–∞–≤—å—Ç–µ **MainMenu.OnSavesButton()**
3. –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**

## üéØ –ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ SavesButton:

#### –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
```
1. –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–ø–æ –¥–∞—Ç–µ)
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω–¥–µ–∫—Å —Å–ª–æ—Ç–∞ –≤ PlayerPrefs
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É
4. InGameSaveManager –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —ç—Ç–æ–≥–æ —Å–ª–æ—Ç–∞
```

#### –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π:
```
1. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤–æ–º —Å–≤–æ–±–æ–¥–Ω–æ–º —Å–ª–æ—Ç–µ
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω–¥–µ–∫—Å —Å–ª–æ—Ç–∞
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É
4. –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª–∞
```

## üìä –õ–æ–≥–∏–∫–∞ –†–∞–±–æ—Ç—ã

### –ö–æ–¥ –º–µ—Ç–æ–¥–∞ OnSavesButton():

```csharp
public void OnSavesButton()
{
    // –ù–∞—Ö–æ–¥–∏–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    int slotIndex;
    SaveData lastSave = SaveSystem.GetLastSave(out slotIndex);
    
    if (lastSave != null)
    {
        // –ï—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ - –∑–∞–≥—Ä—É–∂–∞–µ–º –µ–≥–æ
        PlayerPrefs.SetInt("CurrentSaveSlot", slotIndex);
        PlayerPrefs.Save();
        SceneManager.LoadScene("GameScene");
    }
    else
    {
        // –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π - —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ
        int newSlotIndex = SaveSystem.CreateNewSave("–ù–æ–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ");
        PlayerPrefs.SetInt("CurrentSaveSlot", newSlotIndex);
        PlayerPrefs.Save();
        SceneManager.LoadScene("GameScene");
    }
}
```

## üéÆ –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
```
–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç SavesButton ("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")
‚Üí –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Å–ª–æ—Ç–µ 0
‚Üí –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ï—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```
–°–ª–æ—Ç 0: –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 15.12.2024 10:00
–°–ª–æ—Ç 1: –ü—É—Å—Ç–æ
–°–ª–æ—Ç 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 15.12.2024 18:30 ‚Üê –ü–û–°–õ–ï–î–ù–ï–ï

–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç SavesButton ("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")
‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–æ—Ç 2 (—Å–∞–º–æ–µ —Å–≤–µ–∂–µ–µ)
‚Üí –ò–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å —ç—Ç–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í—Å–µ —Å–ª–æ—Ç—ã –∑–∞–Ω—è—Ç—ã
```
–°–ª–æ—Ç 0: –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 14.12.2024 12:00
–°–ª–æ—Ç 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 15.12.2024 09:00
–°–ª–æ—Ç 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ 15.12.2024 18:30 ‚Üê –ü–û–°–õ–ï–î–ù–ï–ï

–ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç SavesButton ("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")
‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–æ—Ç 2
‚Üí –ò–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
```

## üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ "–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ" –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### SaveSystem.GetLastSave():
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ 3 —Å–ª–æ—Ç–∞
2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π (—Ñ–æ—Ä–º–∞—Ç: dd.MM.yyyy HH:mm)
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å —Å–∞–º–æ–π –ø–æ–∑–¥–Ω–µ–π –¥–∞—Ç–æ–π

```csharp
// –ü—Ä–∏–º–µ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
"15.12.2024 18:30" > "15.12.2024 10:00" ‚Üí true
"14.12.2024 23:59" < "15.12.2024 00:01" ‚Üí true
```

## üé® –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –î–∏–∑–∞–π–Ω—É

### –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏:
- **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"** - –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
- **"Continue"** - –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è
- **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É"** - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

### –¶–≤–µ—Ç:
- **–û—Å–Ω–æ–≤–Ω–æ–π:** #4CAF50 (–∑–µ–ª–µ–Ω—ã–π)
- **Hover:** #66BB6A (—Å–≤–µ—Ç–ª–µ–µ)
- **Pressed:** #388E3C (—Ç–µ–º–Ω–µ–µ)

### –†–∞–∑–º–µ—Ä:
- **–®–∏—Ä–∏–Ω–∞:** 300-400 px
- **–í—ã—Å–æ—Ç–∞:** 60-80 px
- **–®—Ä–∏—Ñ—Ç:** 24-28 px, Bold

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏:

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç:

```csharp
void Start()
{
    ShowMainMenu();
    UpdateSavesButtonText();
}

void UpdateSavesButtonText()
{
    int slotIndex;
    SaveData lastSave = SaveSystem.GetLastSave(out slotIndex);
    
    Text buttonText = savesButton.GetComponentInChildren<Text>();
    if (lastSave != null)
    {
        buttonText.text = "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å";
    }
    else
    {
        buttonText.text = "–ù–æ–≤–∞—è –∏–≥—Ä–∞";
    }
}
```

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π:

```csharp
void UpdateSavesButton()
{
    int slotIndex;
    SaveData lastSave = SaveSystem.GetLastSave(out slotIndex);
    
    savesButton.interactable = (lastSave != null);
}
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### –ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OnClick() ‚Üí MainMenu.OnSavesButton()
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MainMenu –ø—Ä–∏–≤—è–∑–∞–Ω –∫ GameObject –≤ —Å—Ü–µ–Ω–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏

### –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∏–≥—Ä–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –≤—Å–µ–≥–¥–∞ —Å –Ω–∞—á–∞–ª–∞
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (F5 –≤ –∏–≥—Ä–µ)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SaveSystem.GetLastSave() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è—Ö

### –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–µ —Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ä–æ–µ, –∞ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ—Å—å –≤ –∏–≥—Ä–µ (F5)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã: dd.MM.yyyy HH:mm

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] SavesButton —Å–æ–∑–¥–∞–Ω–∞ –≤ MenuPanel
- [ ] OnClick –ø—Ä–∏–≤—è–∑–∞–Ω –∫ MainMenu.OnSavesButton()
- [ ] –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π (—Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏ (–∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ –∏–≥—Ä–µ (F5 —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–∏–∑–∞–π–Ω –∫–Ω–æ–ø–∫–∏

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ **SavesButton** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å":
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ, –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π
- ‚úÖ –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ 3 —Å–ª–æ—Ç–∞–º–∏

–ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ –∏ –∏–≥—Ä–∞–π—Ç–µ! üöÄ
