# Настройка Animator и невидимых стен

## 1. Настройка Animator для анимации Catch/Hold

### Шаг 1: Откройте Animator
1. В Unity выберите объект игрока в **Hierarchy**
2. Откройте **Window → Animation → Animator**

### Шаг 2: Проверьте состояния
Должны быть 3 состояния:
- **Fly** (по умолчанию, оранжевый)
- **Catch** (анимация взятия - 4 кадра)
- **Hold** (анимация удержания - 2 кадра)

### Шаг 3: Создайте состояние Hold (если его нет)
1. ПКМ в окне Animator → **Create State → Empty**
2. Назовите его **"Hold"**
3. Выберите состояние Hold
4. В Inspector найдите **Motion**
5. Перетащите анимацию **Hold.anim** из папки `Assets/Player/Animation/`

### Шаг 4: Настройте переходы

#### Переход: Fly → Catch
1. ПКМ на **Fly** → **Make Transition** → кликните на **Catch**
2. Выберите стрелку перехода
3. В Inspector:
   - **Conditions**: `Catch` = true
   - **Has Exit Time**: ☐ (выключено)
   - **Transition Duration**: 0

#### Переход: Catch → Hold
1. ПКМ на **Catch** → **Make Transition** → кликните на **Hold**
2. Выберите стрелку перехода
3. В Inspector:
   - **Conditions**: (пусто, без условий)
   - **Has Exit Time**: ☑ (включено)
   - **Exit Time**: 1.0
   - **Transition Duration**: 0

#### Переход: Hold → Fly
1. ПКМ на **Hold** → **Make Transition** → кликните на **Fly**
2. Выберите стрелку перехода
3. В Inspector:
   - **Conditions**: `Catch` = false
   - **Has Exit Time**: ☐ (выключено)
   - **Transition Duration**: 0

### Шаг 5: Проверьте параметры
В окне Animator слева должен быть параметр:
- **Catch** (тип: Bool)

Если его нет, создайте:
1. Кликните **+** в разделе Parameters
2. Выберите **Bool**
3. Назовите **"Catch"**

---

## 2. Настройка невидимых стен

### Вариант 1: Автоматические стены (рекомендуется)

1. Создайте пустой объект в сцене:
   - **Hierarchy → ПКМ → Create Empty**
   - Назовите **"MapBounds"**

2. Добавьте скрипт:
   - Выберите объект **MapBounds**
   - **Add Component → InvisibleWalls**

3. Настройте параметры в Inspector:
   - **Map Width**: ширина вашей карты (например, 20)
   - **Map Height**: высота вашей карты (например, 15)
   - **Wall Thickness**: толщина стен (например, 1)
   - **Wall Layer**: слой для стен (обычно "Default")

4. Запустите игру - стены создадутся автоматически

5. В Scene View вы увидите красные линии, показывающие границы карты

### Вариант 2: Ручное создание стен

1. Создайте 4 пустых объекта:
   - **TopWall**, **BottomWall**, **LeftWall**, **RightWall**

2. Для каждой стены:
   - **Add Component → Box Collider 2D**
   - Настройте **Size** (например, для верхней: X=20, Y=1)
   - Расположите по краям карты
   - Убедитесь, что **Is Trigger** = ☐ (выключено)

3. Опционально:
   - Добавьте тег **"Wall"**
   - Создайте слой **"Walls"** и назначьте его стенам

---

## Проверка работы

### Анимация:
1. Запустите игру
2. Нажмите **E** рядом с коржом
3. Должна проиграться анимация взятия (4 кадра)
4. Затем должна зациклиться анимация удержания (2 кадра: catching3 ↔ catching4)
5. Нажмите **E** снова - вернется анимация полета

### Стены:
1. Попробуйте выйти за границы карты
2. Игрок должен упираться в невидимые стены
3. В Scene View красные линии показывают границы

---

## Возможные проблемы

### Анимация Hold не проигрывается:
- Проверьте, что переход **Catch → Hold** имеет **Has Exit Time = true**
- Убедитесь, что анимация **Catch** не зациклена (Loop Time = false)
- Проверьте, что анимация **Hold** зациклена (Loop Time = true)

### Стены не работают:
- Убедитесь, что у игрока есть **Rigidbody2D** и **Collider2D**
- Проверьте, что **Is Trigger** на стенах выключен
- Проверьте настройки физики: **Edit → Project Settings → Physics 2D**
